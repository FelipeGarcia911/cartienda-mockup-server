// Load Libraries
// -------------------------------------------------------------------------------------------------------------------
var bodyParser      = require('body-parser');
var methodOverride  = require("method-override");
var path            = require('path');

var express = require('express');
var app     = express();
var http    = require('http').Server(app);
// -------------------------------------------------------------------------------------------------------------------

// Variables
// -------------------------------------------------------------------------------------------------------------------
var port    = process.env.PORT || 3000;
// -------------------------------------------------------------------------------------------------------------------

// App Configurations
// -------------------------------------------------------------------------------------------------------------------
app.use(bodyParser.urlencoded({ extended: false }));
app.use(bodyParser.json());
app.use(methodOverride());
// -------------------------------------------------------------------------------------------------------------------

// Index - Route
// -------------------------------------------------------------------------------------------------------------------
var api_router = require('./app/routers/ApiRouter')(express, path);
app.use('/api', api_router);

var cartienda_service = require('./app/routers/CartiendaServiceRouter')(express, path);
app.use('/cartienda_service/api', cartienda_service);
// -------------------------------------------------------------------------------------------------------------------

// Start server
// -------------------------------------------------------------------------------------------------------------------
http.listen(port, function() {
    console.log('Our app is running on http://localhost:' + port);
});
// -------------------------------------------------------------------------------------------------------------------